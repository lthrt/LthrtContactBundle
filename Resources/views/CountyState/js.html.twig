<script src="/eval/bundles/lthrtschemavisualizer/js/jquery.min.js"></script>

{# Change state then...  #}
<script>
var state = $('#lthrt_contactbundle_countystate_state');
state.change(function() {
    var form = $(this).closest('form');
    var data = {};
    data['state'] = parseInt(state.val());
    $.ajax({
            url : form.attr('action'),
            type: form.attr('method'),
            data : data,
            success: function(html) {
                $('#lthrt_contactbundle_countystate_county').replaceWith(
                    $(html).find('#lthrt_contactbundle_countystate_county')
                );
            }
    });
});
</script>


{# Change county then...  #}
<script>
var county = $('#lthrt_contactbundle_countystate_county');
county.change(function() {
    var form = $(this).closest('form');
    console.log('county');
    var data = {};
    data['county'] = parseInt(county.val());
    console.log(data);
    $.ajax({
        url : form.attr('action'),
        type: form.attr('method'),
        data : data,
        success: function(html) {
            console.log($(html).find('#lthrt_contactbundle_countystate_state'));
            $('#lthrt_contactbundle_countystate_state').replaceWith(
                $(html).find('#lthrt_contactbundle_countystate_state')
            );
        }
    });
});
</script>
