<script src="/eval/bundles/lthrtschemavisualizer/js/jquery.min.js"></script>

{# Change state then...  #}
<script>
var state = $('#lthrt_contactbundle_citycountystate_state');
state.change(function() {
    var form = $(this).closest('form');
    var data = {};
    data['state'] = parseInt(state.val());
    $.ajax({
        url : form.attr('action'),
        type: form.attr('method'),
        data : data,
        success: function(html) {
            $('#lthrt_contactbundle_citycountystate_county').replaceWith(
                $(html).find('#lthrt_contactbundle_citycountystate_county')
            );
            $('#lthrt_contactbundle_citycountystate_city').replaceWith(
                $(html).find('#lthrt_contactbundle_citycountystate_city')
            );
        }
    });
});
</script>


{# Change county then...  #}
<script>
var county = $('#lthrt_contactbundle_citycountystate_county');
county.change(function() {
    var form = $(this).closest('form');
    console.log('county');
    var data = {};
    data['county'] = county.val();
    console.log(data);
    $.ajax({
        url : form.attr('action'),
        type: form.attr('method'),
        data : data,
        success: function(html) {
            $('#lthrt_contactbundle_citycountystate_city').replaceWith(
                $(html).find('#lthrt_contactbundle_citycountystate_city')
            );
            $('#lthrt_contactbundle_citycountystate_state').replaceWith(
                $(html).find('#lthrt_contactbundle_citycountystate_state')
            );
        }
    });
});
</script>

{# Change city then...  #}
<script>
var city = $('#lthrt_contactbundle_citycountystate_city');
city.change(function() {
    var form = $(this).closest('form');
    console.log('county');
    var data = {};
    data['county'] = city.val();
    console.log(data);
    $.ajax({
        url : form.attr('action'),
        type: form.attr('method'),
        data : data,
        success: function(html) {
            $('#lthrt_contactbundle_citycountystate_county').replaceWith(
                $(html).find('#lthrt_contactbundle_citycountystate_county')
            );
            $('form[name="lthrt_contactbundle_citycountystate_state"]').replaceWith(
                $(html).find('form[name="lthrt_contactbundle_citycountystate_state"]')
            );
        }
    });
});
</script>
